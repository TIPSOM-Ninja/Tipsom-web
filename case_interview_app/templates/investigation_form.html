{% extends "layouts/master.html" %}
{% load i18n %}

{% block content %}
<div class="container p-3">
    <div class="card ">
        <div class="card-header text-center">
            {% trans "INVESTIGATION DATA" %}
        </div>
        <div class="card-body">
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Home</button>
                    <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Profile</button>
                    <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Contact</button>
                    <button class="nav-link" id="nav-disabled-tab" data-bs-toggle="tab" data-bs-target="#nav-disabled" type="button" role="tab" aria-controls="nav-disabled" aria-selected="false" disabled>Disabled</button>
                </div>
            </nav>
            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
                <form id="interviewer_form" method="post">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="countryOfBirth" class="form-label">{% trans "Country of birth:" %}</label>
                        <select class="form-select" name="country_of_birth" id="countryOfBirth" aria-label="Default select example" required>
                            <option {% if interviewer.country_id == None%}selected{% endif %}>{% trans "roll down list for country" %}</option>
                            {% for country in countries %}
                                <option {% if victim.country_of_birth == country.id%}selected{% endif %} value="{{country.id}}">{% trans country.name %}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="initials" class="form-label">{% trans "Initials:" %}</label>
                        <input type="text" name = "initials" value = "{{victim.initials}}" class="form-control" id="initials" aria-describedby="familyNameHelp" required>
                        
                    </div>
                    <div class="mb-3">
                        <label for="position" class="form-label">{% trans "Position:" %}</label>
                        <input type="text" name = "position" value = "{{interviewer.position}}"class="form-control" id="position" aria-describedby="positionHelp" required>
                        
                    </div>
                    <div class="mb-3">
                        <label for="organization" class="form-label">{% trans "Authority/Organization:" %}</label>
                        <input type="text" name = "organization" value = "{{interviewer.organization}}" class="form-control" id="organization" aria-describedby="organizationHelp" required>
                        
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">{% trans "Address:" %}</label>
                        <input type="text" name = "address" value = "{{interviewer.address}}" class="form-control" id="address" aria-describedby="addressHelp" required>
                        
                    </div>
                    <div class="mb-3">
                        <label for="emailAddress" class="form-label">{% trans "Email address:" %}</label>
                        <input type="text" name = "email_address" value = "{{interviewer.email_address}}" autocomplete="username" class="form-control" id="emailAddress" aria-describedby="emailAddressHelp" required>
                        
                    </div>
                    <div class="mb-3">
                        <label for="country" class="form-label">{% trans "Country:" %}</label>
                        <select class="form-select" name="country" id="country" aria-label="Default select example" required>
                            <option {% if interviewer.country_id == None%}selected{% endif %}>{% trans "roll down list for country" %}</option>
                            {% for country in countries %}
                                <option {% if interviewer.country_id == country.id%}selected{% endif %} value="{{country.id}}">{% trans country.name %}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="purpose" class="form-label">{% trans "Purpose of data entry:" %}</label>
                        <select class="form-select" name = "purpose" id="purpose" aria-label="Default select example" required>
                            {% for purpose in purposes %}
                                <option {% if interviewer.purpose_id == purpose.id%}selected{% endif %}  value="{{purpose.id}}">{% trans purpose.name %}</option>
                            {% endfor %}
                        </select>
                    </div>
                    

                    {% comment %} <div class="mb-3">
                        <label for="confirmPassword" class="form-label">{% translate "Confirm password:" %}</label>
                        <input type="password" autocomplete="new-password" class="form-control" id="confirmPassword" aria-describedby="confirmPasswordHelp" required>
                        <div class="invalid-feedback">
                            Password not a match.
                        </div>
                    </div> {% endcomment %}

                    <div class="row justify-content-center ">
                        <div class="col-3 text-center">
                            <button type="button" onclick="switchtab()" class="btn btn-primary">{% translate "SUBMIT" %}</button>
                        </div>
                    
                    </div>
                </form>
            </div>
            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">...</div>
            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab" tabindex="0">...</div>
            <div class="tab-pane fade" id="nav-disabled" role="tabpanel" aria-labelledby="nav-disabled-tab" tabindex="0">...</div>          
        </div>
    </div>
</div>
{% endblock content %}
{% block scripts %}
<script>
function switchtab(){
    const triggerEl = document.querySelector('#nav-tab button[data-bs-target="#nav-profile"]')
    bootstrap.Tab.getOrCreateInstance(triggerEl).show()
}
{% comment %} let form = document.getElementById('interviewer_form')
let password = document.getElementById('password')
let confirm_password = document.getElementById('confirmPassword')

function submitter(){
    if(password.value != confirm_password.value){

    }
    if(form.checkValidity() === true && password.value == confirm_password.value){
        form.submit()
    }
} {% endcomment %}
</script>
{% endblock scripts %}